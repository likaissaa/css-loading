<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
		<script type="text/javascript" src="js/vue2.5.js"></script>
		<style type="text/css">
			@keyframes loader {
				to {
					background-position: -800px 0;
				}
			}
			
			.loader {
				width: 100px;
				height: 100px;
				background: url(img/loader.png) 0 0;
				animation: loader 1s infinite steps(8, start);
				text-indent: 200%;
				white-space: nowrap;
				overflow: hidden;
			}
		</style>
	</head>

	<body>
		<div id="app">
			<div class="loader" v-show="showme">
				Loading
			</div>
		</div>

	</body>

	<script type="text/javascript">
		var vm = new Vue({
			el: "#app",
			data: {
				showme: false
			},
			mounted: function() {
				var that=this;
				/*that.showme=true;*/
					getinfo(that);

			},
			methods: {

			}
		})

		function getinfo(that) {
			$.ajax({
				url: "./test.json",
				type: "GET",
				data: {},
				dataType: "json",
				beforeSend:function(){
					that.showme=true;
				},
				async: false,
				success: function(res) {
					setTimeout(function(){
						that.showme=false;
						console.log(JSON.stringify(res))
					},5000)
											
				},
				error: function() {
					alert("获取用户信息失败。")
				}
			})
		}
	</script>

</html>